apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-global-config
  namespace: {{ .Values.global.namespace }}
data:
  # MySQL connection
  SPRING_DATASOURCE_URL: "jdbc:mysql://{{ .Values.global.mysql.host }}.{{ .Values.global.namespace }}.svc.cluster.local:{{ .Values.global.mysql.port }}/{{ .Values.global.mysql.database }}"
  SPRING_DATASOURCE_USERNAME: {{ .Values.global.mysql.username }}

  # Service URLs (will be populated as more services are added)
  USER_SERVICE_URL: "http://{{ .Release.Name }}-user-service.{{ .Values.global.namespace }}.svc.cluster.local:8080/api/v1/user"
  DEVICE_SERVICE_URL: "http://{{ .Release.Name }}-device-service.{{ .Values.global.namespace }}.svc.cluster.local:8081/api/v1/device"
